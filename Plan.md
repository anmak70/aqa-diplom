## Дипломная работа.

### • Перечень автоматизируемых сценариев:
        
### 1. Проверка выбора покупки тура по карте или в кредит с главной страницы:
    1.1 Кликнуть по кнопке "Купить" - должна открыться форма заполнения данных карты, для покупки тура по дебетовой 
	карте
    1.2 Кликнуть по кнопке "Купить в кредит" - должна открыться форма заполнения данных карты, для покупки тура в кредит
   
### 2. Проверка покупки тура по дебетовой карте:
       -> кликнуть по кнопке "Купить" на главной странице -> откроется форма заполнения данных карты для покупки по 
	дебетовой карте:
    2.1 Заполнить поля валидными данными (карта 4444 4444 4444 4441, месяц - 11, год - 22, владелец - Ivan 
	Ivanov-Petrov,код CVC - 789) -> нажать кнопку "Продолжить". Ожидаемый результат - запрос отправляется в банк,
	банк присылает ответ - "Успешно. Операция одобрена Банком".
    2.2 Заполнить поле валидными данными, кроме поля карта (4444 4444 4444) -> нажать кнопку "Продолжить". Ожидаемый
    	результат - появление подсказки - "Неверный формат" -> запрос в банк не отправляется.
    2.3 Заполнить поле валидными данными, кроме поля месяц (13) -> нажать кнопку "Продолжить". Ожидаемый результат -
     	появление подсказки - "Неверно указан срок действия карты" -> запрос в банк не отправляется.
    2.4 Заполнить поле валидными данными, кроме поля месяц (00) -> нажать кнопку "Продолжить". Ожидаемый результат -
     	появление подсказки - "Неверно указан срок действия карты" -> запрос в банк не отправляется.
    2.5 Заполнить поле валидными данными, кроме поля год (19) -> нажать кнопку "Продолжить". Ожидаемый результат - 
	появление подсказки - "Истёк срок действия карты" -> запрос в банк не отправляется.
    2.6 Заполнить поле валидными данными, кроме поля владелец (555777) -> нажать кнопку "Продолжить". Ожидаемый 
	результат - появление подсказки - "Поле обязательно для заполнения" -> запрос в банк не отправляется.
    2.7 Заполнить поле валидными данными, кроме поля владелец (+-*"№;) -> нажать кнопку "Продолжить". Ожидаемый 
	результат - появление подсказки - "Поле обязательно для заполнения" -> запрос в банк не отправляется.
    2.8 Заполнить поле валидными данными, кроме поля владелец (Иван Иванов) -> нажать кнопку "Продолжить". 
	Ожидаемый результат - появление подсказки - "Поле обязательно для заполнения" -> запрос в банк не 
	отправляется. (Необходимо уточнение валиддности русского алфавита?)
    2.9 Заполнить поле валидными данными, кроме поля CVC (000) -> нажать кнопку "Продолжить". Ожидаемый результат -
    	появление подсказки - "Неверный формат" -> запрос в банк не отправляется. (Необходимо уточнение - код 000 - валидный?)
    2.10 Оставить все поля пустыми -> нажать кнопку "Продолжить". Ожидаемый результат - появление подсказки 
	"Неверный формат"
    2.11 Заполнить поля валидными данными, поле карта (4444 4444 4444 4444 - не сгенерирована) -> нажать кнопку 
	"Продолжить". Ожидаемый результат - запрос отправляется в банк, банк присылает ответ - "Ошибка! Банк отказал
	 в проведении операции".
    
### 3. Проверка покупки тура в кредит по данным дебетовой карты:
       -> кликнуть по кнопке "Купить в кредит" на  главной странице -> откроется форма заполнения данных карты для 
	покупки в кредит по данным дебетовой карте:
    3.1 Заполнить поля валидными данными (карта 4444 4444 4444 4441, месяц - 11, год - 22, владелец - Ivan 
	Ivanov-Petrov, код CVC - 789) -> нажать кнопку "Продолжить". Ожидаемый результат - запрос отправляется в 
	банк, банк присылает ответ - "Успешно. Операция одобрена Банком".
    3.2 Заполнить поле валидными данными, кроме поля карта (4444 4444 4444) -> нажать кнопку "Продолжить". Ожидаемый
    	результат - появление подсказки - "Неверный формат" -> запрос в банк не отправляется.
    3.3 Заполнить поле валидными данными, кроме поля месяц (13) -> нажать кнопку "Продолжить". Ожидаемый результат -
    	появление подсказки - "Неверно указан срок действия карты" -> запрос в банк не отправляется.
    3.4 Заполнить поле валидными данными, кроме поля месяц (00) -> нажать кнопку "Продолжить". Ожидаемый результат -
    	появление подсказки - "Неверно указан срок действия карты" -> запрос в банк не отправляется.
    3.5 Заполнить поле валидными данными, кроме поля год (19) -> нажать кнопку "Продолжить". Ожидаемый результат - 
	появление подсказки - "Истёк срок действия карты" -> запрос в банк не отправляется.
    3.6 Заполнить поле валидными данными, кроме поля владелец (555777) -> нажать кнопку "Продолжить". Ожидаемый 
	результат - появление подсказки - "Поле обязательно для заполнения" -> запрос в банк не отправляется.
    3.7 Заполнить поле валидными данными, кроме поля владелец (+-*"№;) -> нажать кнопку "Продолжить". Ожидаемый 
	результат - появление подсказки - "Поле обязательно для заполнения" -> запрос в банк не отправляется.
    3.8 Заполнить поле валидными данными, кроме поля владелец (Иван Иванов) -> нажать кнопку "Продолжить". Ожидаемый
     	результат - появление подсказки - "Поле обязательно для заполнения" -> запрос в банк не отправляется. 
	(Необходимо уточнение валидности русского алфавита?)
    3.9 Заполнить поле валидными данными, кроме поля CVC (000) -> нажать кнопку "Продолжить". Ожидаемый результат - 
	появление подсказки - "Неверный формат" -> запрос в банк не отправляется. (Необходимо уточнение - код 000 -
	валидный?)
    3.10 Оставить все поля пустыми -> -> нажать кнопку "Продолжить". Ожидаемый результат - появление подсказки 
	"Неверный формат"
    3.11 Заполнить поля валидными данными, поле карта (4444 4444 4444 4442 у которой статус DECLINER) -> нажать 
	кнопку "Продолжить". Ожидаемый результат - запрос отправляется в банк, банк присылает ответ - "Ошибка! Банк
	отказал в проведении операции".
    3.12 Заполнить поля валидными данными, поле карта (4444 4444 4444 4444 - не сгенерирована) -> нажать кнопку 
	"Продолжить". Ожидаемый результат - запрос отправляется в банк, банк присылает ответ - "Ошибка! Банк отказал
	в проведении операции".

### 4. проверка корректности работы с базой данных и внесением данных:
    #### Покупка тура по дебетовой карте
    КАРТА "4444 4444 4444 4441" статус "APPROVED"
       Сделать запрос к БД - "SELECT COUNT (*) FROM payment_entry" для фиксации количества записей ->
       -> покупка тура по дебетовой карте -> кликнуть по кнопке "Купить" на главной странице -> 
       откроется форма заполнения данных карты для покупки по дебетовой карте -> заполнить поля 
       валидными данными (карта 4444 4444 4444 4441, месяц - 11, год - 22, владелец- Ivan Ivanov-Petrov,
       код CVC - 789) -> нажать кнопку "Продолжить". Ожидаемый результат - запрос отправляется в банк,
       банк присылает ответ - "Успешно. Операция одобрена Банком".
       Сделать запрос к БД - "SELECT COUNT (*) FROM payment_entry" для сравнения количества записей в 
       таблице с сохраненными -> ожидаемый результат - количество записей увеличилось на 1.
       Сделать запрос по полям "amount", "status", "transaction_id" последней по времени записи в таблице
       "payment_entry"
    4.1 Сделать сравнение поля ("amount" = 45000)- ожидание - "TRUE"
    4.2 Сделать сравнение поля ("status" = "ARRIVED") - ожидание - "TRUE"
    4.3 Сделать запрос в таблице "order_entry" столбец "payment_id" по значению "transaction_id" из 
        таблицы "payment_entry" - ожидаемый результат - строка нашлась.
    4.4 КАРТА "4444 4444 4444 4442" статус "DECLINED"
       Сделать запрос к БД - "SELECT COUNT (*) FROM payment_entry" для фиксации количества записей ->
       -> покупка тура по дебетовой карте -> кликнуть по кнопке "Купить" на главной странице -> 
       откроется форма заполнения данных карты для покупки по дебетовой карте -> заполнить поля 
       валидными данными (карта 4444 4444 4444 4442, месяц - 11, год - 22, владелец- Ivan Ivanov-Petrov,
       код CVC - 789) -> нажать кнопку "Продолжить". Ожидаемый результат - запрос отправляется в банк,
       банк присылает ответ - "Ошибка! Банк отказал в проведении операции".
       Сделать запрос к БД - "SELECT COUNT (*) FROM payment_entry" для сравнения количества записей в 
       таблице с сохраненными -> ожидаемый результат - количество записей не изменилось.
       	
    #### Покупка тура в кредит по данным дебетовой карте
    КАРТА "4444 4444 4444 4441" статус "ARROVED"
       Сделать запрос к БД - "SELECT COUNT (*) FROM payment_entry" для фиксации количества записей ->
       -> покупка тура в кредит по данным дебетовой карте -> кликнуть по кнопке "Купить в кредит" на 
       главной странице -> откроется форма заполнения данных карты -> заполнить поля валидными данными
       (карта 4444 4444 4444 4441, месяц - 11, год - 22, владелец - Ivan Ivanov-Petrov, код CVC - 789) 
       -> нажать кнопку "Продолжить". Ожидаемый результат - запрос отправляется в банк, банк присылает 
       ответ - "Успешно. Операция одобрена Банком".
       Сделать запрос к БД - "SELECT COUNT (*) FROM credit_request_entry" для сравнения количества записей
       в таблице с сохраненными -> ожидаемый результат - количество записей увеличилось на 1.
       Сделать запрос по полям "bank_id", "status" последней по времени записи в таблице "credit_request_entry"
    4.5 Сделать сравнение поля ("status" = "ARRIVED") - ожидание - "TRUE"
    4.6 Сделать запрос в таблице "order_entry" столбец "credit_id" по значению "bank_id" из таблицы "credit_
        request_entry" - ожидаемый результат - строка нашлась.
    4.7 КАРТА "4444 4444 4444 4442" статус "DECLINED"
       Сделать запрос к БД - "SELECT COUNT (*) FROM payment_entry" для фиксации количества записей ->
       -> покупка тура в кредит по данным дебетовой карте -> кликнуть по кнопке "Купить в кредит" на 
       главной странице -> откроется форма заполнения данных карты -> заполнить поля валидными данными
       (карта 4444 4444 4444 4442, месяц - 11, год - 22, владелец - Ivan Ivanov-Petrov, код CVC - 789) 
       -> нажать кнопку "Продолжить". Ожидаемый результат - запрос отправляется в банк, банк присылает 
       ответ - "Ошибка! Банк отказал в проведении операции".
       Сделать запрос к БД - "SELECT COUNT (*) FROM credit_request_entry" для сравнения количества записей
       в таблице с сохраненными -> ожидаемый результат - количество записей не изменилось.
       
### • Перечень используемых инструментов с обоснованием выбора 

    1. Intellij Idea — среда разработки, в которой будут писаться автотесты на языке java
    2. Java - язык программирования для написания автотестов
    3. Docker - программное обеспечение для автоматизации развёртывания и управления приложениями в средах с 
	   поддержкой контейнеризации. Нужен для подключения приложений без их установки, например MySQL, Node.js.
    4. MySQL образ - для развертывания с помощью Docker-compose, используется для работы с базами данных
    5. Node.js - программная платформа,превращающая JavaScript из узкоспециализированного языка в язык общего 
	   назначения, нужен для работы с симуляторами банковских сервисов
    6. Dbeaver - менеджер баз данных, нужен для проверки корректности работы с БД
    7. Gradle - система управления зависимостями. Облегчает работу с автотестами и отчетами по ним. 
    8. Selenide - библиотека для написания автотестов. Позволяет упростить написание автотестов, сосредоточившись 
	   на логике тестов.  
    9. Allure - фреймворк, нужен для создания простых и понятных отчётов автотестов
    10. Lombok - позволяет сильно упростить Java-код, генерируя методы установки значений, генерации значений, 
	    hashCode, equals и др.
    11. Faker – это библиотека, которая генерирует случайные данные для использования при проверки работы приложения 
    12. Git - Распределённая система управления версиями. Необходима для контроля версий, возможности отката и 
	    командной работы
    13. Chrome Google – браузер, нужен для просмотра web-страниц и работы с ними в инструментах разработчика.

### • Перечень возможных рисков при автоматизации 

    1. Проблемы при установке и подъеме SUT и окружения (установка не достающего программного обеспечения, нужных 
	   версий ПО, возможные конфликты).
    2. Риск из-за сгенерированных данных банковских карт (возможное отличие от реальных данных).
    3. Риск из-за баз данных (возможное различие с рабочими базами, отличия в работе с данными). 

### • Интервальная оценка с учётом рисков (в часах) 

    1. Подготовка окружения, данных и запуск SUT – 8 часов
    2. Написание автотестов — 40 часов
    3. Прогон автотестов — 4 часа
    4. Корректировка автотестов — 5 часов
    5. Отчет — 6 часа

### • План сдачи работ 

    1. Автотесты — 26 января
    2. Прогон — 27 января
    3. Отчет по автоматизации — 30 января
